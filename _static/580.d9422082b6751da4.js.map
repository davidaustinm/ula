{"version":3,"file":"580.d9422082b6751da4.js","mappings":"oIAeIA,EAAS,CAAC,EAEd,MAAMC,UAAiB,IACnB,WAAAC,CAAYC,GACRC,MAAMD,GACN,IAAIE,EAAOF,EAAKE,KAChBC,KAAKC,SAAWF,EAChBC,KAAKE,MAAQH,EAAKI,GAClBH,KAAKI,UAAW,EAChBJ,KAAKK,QAAmC,SAAzBN,EAAKO,QAAQC,SAA+C,KAAzBR,EAAKO,QAAQC,QAC/DP,KAAKQ,SAAWT,EAAKO,QAAQG,UAAY,KACf,SAAtBV,EAAKO,QAAQI,OACbV,KAAKI,UAAW,GAEpBJ,KAAKW,aAAe,QAChBZ,EAAKa,aAAa,iBAClBZ,KAAKW,aAAe,QAGxBX,KAAKa,aAAed,EAAKO,QAAQQ,KACjCd,KAAKe,aAAehB,EAAKO,QAAQU,KAE5BhB,KAAKK,UACFL,KAAKI,SACLJ,KAAKiB,iBAELjB,KAAKkB,YAELlB,KAAKQ,WACLR,KAAKmB,aAAab,QAAQG,SAAWT,KAAKQ,WAIlD,IAAIY,EAAapB,KAAKmB,aAAaE,eAAeC,cAAc,qBAC5DF,GAAoC,SAAtBpB,KAAKW,eAEnBS,EAAWG,MAAMC,QAAU,QAE/BxB,KAAKyB,0BACT,CAKA,SAAAP,GACIlB,KAAKmB,aAAeO,SAASC,cAAc,OAC3C3B,KAAKmB,aAAahB,GAAKH,KAAKE,MAC5BF,KAAKmB,aAAaI,MAAMC,QAAUxB,KAAKW,aACvCX,KAAKmB,aAAaS,UAAY5B,KAAKC,SAAS2B,UAC5C5B,KAAKC,SAAS4B,YAAY7B,KAAKmB,aACnC,CACA,cAAAF,GACIjB,KAAKmB,aAAeO,SAASC,cAAc,YAC3C3B,KAAKmB,aAAahB,GAAKH,KAAKE,MACxBF,KAAKa,eAAcb,KAAKmB,aAAaL,KAAOd,KAAKa,cACjDb,KAAKe,eAAcf,KAAKmB,aAAaH,KAAOhB,KAAKe,cACrDf,KAAKmB,aAAaS,UAAY5B,KAAKC,SAAS2B,UAC5C5B,KAAKmB,aAAaW,UAAUC,IAAI,qBAChC/B,KAAKC,SAAS4B,YAAY7B,KAAKmB,aACnC,EAOJO,SAASM,iBAAiB,oBAAoB,WAC1CN,SAASO,iBAAiB,6BAA6BC,SAAQ,SAAUC,GACrE,IACIzC,EAAOyC,EAAGhC,IAAM,IAAIR,EAAS,CAAEI,KAAMoC,GACzC,CAAE,MAAOC,GACLC,QAAQC,IAAI,4BAA4BH,EAAGhC,KAC/C,CACJ,GACJ,SAEwC,IAA7BoC,OAAOC,oBACdD,OAAOC,kBAAoB,CAAC,GAGhCD,OAAOC,kBAAkBC,SAAW,SAAU5C,GAC1C,OAAO,IAAIF,EAASE,EACxB,C","sources":["webpack://WebComponents/./runestone/datafile/js/datafile.js"],"sourcesContent":["/*==========================================\n=======     Master datafile.js      ========\n============================================\n===     This file contains the JS for    ===\n===   the Runestone Datafile component.  ===\n============================================\n===              Created by              ===\n===           Isaiah Mayerchak           ===\n===                6/8/15                ===\n==========================================*/\n\"use strict\";\n\nimport RunestoneBase from \"../../common/js/runestonebase\";\nimport \"../css/datafile.css\";\n\nvar dfList = {}; // Dictionary that contains all instances of Datafile objects\n\nclass DataFile extends RunestoneBase {\n    constructor(opts) {\n        super(opts);\n        var orig = opts.orig; // entire <pre> element that will be replaced by new HTML\n        this.origElem = orig;\n        this.divid = orig.id;\n        this.dataEdit = false;\n        this.isImage = orig.dataset.isimage === \"true\" || orig.dataset.isimage === \"\" ? true : false;\n        this.fileName = orig.dataset.filename || null;\n        if (orig.dataset.edit === \"true\") {\n            this.dataEdit = true;\n        }\n        this.displayClass = \"block\"; // Users can specify the non-edit component to be hidden--default is not hidden\n        if (orig.hasAttribute(\"data-hidden\")) {\n            this.displayClass = \"none\";\n        }\n        // Users can specify numbers of rows/columns when editing is true\n        this.numberOfRows = orig.dataset.rows;\n        this.numberOfCols = orig.dataset.cols;\n\n        if (!this.isImage) {\n            if (this.dataEdit) {\n                this.createTextArea();\n            } else {\n                this.createPre();\n            }\n            if (this.fileName) {\n                this.containerDiv.dataset.filename = this.fileName;\n            }\n        }\n        // search for a parent div with the class 'datafile_caption' in plain javascript\n        let captionDiv = this.containerDiv.parentElement?.querySelector(\".datafile_caption\");\n        if (captionDiv && this.displayClass === \"none\") {\n            // hide the captionDiv if the datafile is hidden\n            captionDiv.style.display = \"none\";\n        }\n        this.indicate_component_ready();\n    }\n    /*=====================================\n    == Create either <pre> or <textarea> ==\n    ==  depending on if editing is true  ==\n    ==================================*/\n    createPre() {\n        this.containerDiv = document.createElement(\"pre\");\n        this.containerDiv.id = this.divid;\n        this.containerDiv.style.display = this.displayClass;\n        this.containerDiv.innerHTML = this.origElem.innerHTML;\n        this.origElem.replaceWith(this.containerDiv);\n    }\n    createTextArea() {\n        this.containerDiv = document.createElement(\"textarea\");\n        this.containerDiv.id = this.divid;\n        if (this.numberOfRows) this.containerDiv.rows = this.numberOfRows;\n        if (this.numberOfCols) this.containerDiv.cols = this.numberOfCols;\n        this.containerDiv.innerHTML = this.origElem.innerHTML;\n        this.containerDiv.classList.add(\"datafiletextfield\");\n        this.origElem.replaceWith(this.containerDiv);\n    }\n}\n\n/*=================================\n== Find the custom HTML tags and ==\n==   execute our code on them    ==\n=================================*/\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    document.querySelectorAll(\"[data-component=datafile]\").forEach(function (el) {\n        try {\n            dfList[el.id] = new DataFile({ orig: el });\n        } catch (err) {\n            console.log(`Error rendering DataFile ${el.id}`);\n        }\n    });\n});\n\nif (typeof window.component_factory === \"undefined\") {\n    window.component_factory = {};\n}\n\nwindow.component_factory.datafile = function (opts) {\n    return new DataFile(opts);\n};\n"],"names":["dfList","DataFile","constructor","opts","super","orig","this","origElem","divid","id","dataEdit","isImage","dataset","isimage","fileName","filename","edit","displayClass","hasAttribute","numberOfRows","rows","numberOfCols","cols","createTextArea","createPre","containerDiv","captionDiv","parentElement","querySelector","style","display","indicate_component_ready","document","createElement","innerHTML","replaceWith","classList","add","addEventListener","querySelectorAll","forEach","el","err","console","log","window","component_factory","datafile"],"sourceRoot":""}